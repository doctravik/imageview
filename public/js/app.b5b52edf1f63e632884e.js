webpackJsonp([0],{0:function(t,e,n){n("sV/x"),t.exports=n("xZZD")},"0UYq":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"album"},[n("div",{staticClass:"thumbnail"},[n("div",{staticClass:"thumbnail__mask",on:{click:function(e){e.preventDefault(),t.activate(e)}}}),t._v(" "),n("div",[t.url?n("img",{staticClass:"thumbnail__image",attrs:{src:t.url,alt:"thumbnail"}}):t._e(),t._v(" "),t.url?t._e():n("div",{staticClass:"thumbnail__default-image--small"},[n("span",[t._v("No avatar")])])]),t._v(" "),n("div",{staticClass:"thumbnail-menu album__menu"},[n("div",{staticClass:"album__count"},[t._v(t._s(t.pluralize("photo",t.count,!0)))])])]),t._v(" "),n("div",{staticClass:"album__name"},[t._v(t._s(t.capitalize(t.album.name)))]),t._v(" "),n("div",{staticClass:"album__user"},[t._v(t._s(t.user))])])},staticRenderFns:[]}},"0qGq":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",{staticClass:"statistics"},[t._v("Proccessed: "+t._s(t.uploaded)+" from "+t._s(t.total)+" files")])])},staticRenderFns:[]}},"2F0t":function(t,e,n){"use strict";var i=n("XQct"),a=n("Zh1K"),r=n("k4Td");e.a={props:["photo","size"],computed:{url:function(){var t=this.path(this.size);return t?this.getUrl(t):""}},data:function(){return{parser:new a.a(new r.a)}},methods:{activate:function(){this.$emit("activate-thumbnail",this.photo)},path:function(t){if(!this.photo)return"";var e=this.parser.parse(this.photo.path);return e.dirname+"/"+e.filename+"_"+t+e.extname},getUrl:i.a}}},"2WXv":function(t,e,n){var i=n("VU/8")(n("ruOm"),n("RmrI"),null,null);t.exports=i.exports},"3hpo":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["total"],computed:{uploading:function(){return this.total-this.uploaded},isAllDone:function(){return this.total===this.uploaded}},mounted:function(){var t=this;eventDispatcher.$on("file-was-processed",function(){t.update()}),eventDispatcher.$on("reset",function(){t.uploaded=0})},data:function(){return{uploaded:0}},methods:{update:function(){this.uploaded++,this.isAllDone&&eventDispatcher.$emit("all-files-were-uploaded")}}}},"4XMA":function(t,e,n){var i=n("vpkq");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("7631c529",i,!0)},"5A6U":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"thumbnail-menu"},[n("control",{attrs:{title:"Delete photo"},on:{activate:function(e){t.execute("delete")}}},[n("i",{staticClass:"fa fa-trash-o",attrs:{"aria-hidden":"true"},slot:"icon"})]),t._v(" "),t.isPublic?t._e():n("control",{attrs:{"class-style":"disabled",title:"Make public"},on:{activate:function(e){t.execute("visibility")}}},[n("i",{staticClass:"fa fa-eye-slash",attrs:{"aria-hidden":"true"},slot:"icon"})]),t._v(" "),t.isPublic?n("control",{attrs:{"class-style":"active",title:"Make private"},on:{activate:function(e){t.execute("visibility")}}},[n("i",{staticClass:"fa fa-eye",attrs:{"aria-hidden":"true"},slot:"icon"})]):t._e(),t._v(" "),t.isAvatar?t._e():n("control",{attrs:{"class-style":"disabled",title:"Make avatar"},on:{activate:function(e){t.execute("avatar")}}},[n("i",{staticClass:"fa fa-check",attrs:{"aria-hidden":"true"},slot:"icon"})]),t._v(" "),t.isAvatar?n("control",{attrs:{"class-style":"active",title:"Disable avatar"},on:{activate:function(e){t.execute("avatar")}}},[n("i",{staticClass:"fa fa-check",attrs:{"aria-hidden":"true"},slot:"icon"})]):t._e()],1)},staticRenderFns:[]}},"5hos":function(t,e,n){var i=n("Jf/B");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("8af61a92",i,!0)},"9nhH":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.paginator.lastPage>1?n("nav",{staticClass:"pagination is-centered"},[n("a",{staticClass:"pagination-previous",attrs:{tabindex:"0",disabled:!t.hasPrev()},on:{click:function(e){e.preventDefault(),t.prev(e)}}},[t._v("Previous")]),t._v(" "),n("a",{staticClass:"pagination-next",attrs:{tabindex:"0",disabled:!t.hasNext()},on:{click:function(e){e.preventDefault(),t.next(e)}}},[t._v("Next page")]),t._v(" "),n("ul",{staticClass:"pagination-list"},[t._l(t.pages,function(e,i){return[t.isArray(e)&&"first"!=i?n("li",[n("span",{staticClass:"pagination-ellipsis"},[t._v("…")])]):t._e(),t._v(" "),t._l(e,function(e){return n("li",{attrs:{tabindex:"0"},on:{click:function(n){n.preventDefault(),t.navigate(e)}}},[n("a",{class:["pagination-link",{"is-current":t.isCurrent(e)}]},[t._v(t._s(e))])])})]})],2)]):t._e()},staticRenderFns:[]}},C5ET:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("2F0t"),a=n("mvfD"),r=n.n(a);e.default={data:function(){return{showThumbnailMenu:!1}},methods:{deletePhoto:function(t){this.$emit("delete-photo",t)},resetAvatars:function(t){this.$emit("reset-avatars",t)}},mixins:[i.a],components:{ThumbnailMenu:r.a}}},FNsA:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("album-thumbnail",{attrs:{size:"small",album:t.album,photo:t.avatar,user:t.username,count:t.count},on:{"activate-thumbnail":t.showModal}})},staticRenderFns:[]}},"FZ+f":function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},a=0;a<this.length;a++){var r=this[a][0];"number"==typeof r&&(i[r]=!0)}for(a=0;a<e.length;a++){var s=e[a];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},GIe0:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"upload-file"},[n("div",{staticClass:"upload-progress"},[n("div",{staticClass:"progress__bar"},[n("div",{staticClass:"progress__label"},[t._v(t._s(t.file.name))]),t._v(" "),n("div",{class:{progress__fill:!0,"progress__fill--success":t.state.isSuccess(),"progress__fill--failed":t.state.isFailed()||t.state.isCancelled()},style:{width:t.progress+"%"}}),t._v(" "),n("div",{staticClass:"progress__percentage"},[t.state.isFailed()?n("span",[t._v("Failed")]):t._e(),t._v(" "),t.state.isSuccess()?n("span",[t._v("Complete")]):t._e(),t._v(" "),t.state.isCancelled()?n("span",[t._v("Cancelled")]):t._e(),t._v(" "),t.state.isUploading()?n("span",[t._v(t._s(t.progress)+"%")]):t._e()])]),t._v(" "),t.state.isUploading()?n("button",{staticClass:"delete upload-file__cancel",on:{click:t.cancelUpload}}):t._e()]),t._v(" "),t.errors.has(t.inputName)?n("div",{staticClass:"upload-file__error",domProps:{textContent:t._s(t.errors.get(t.inputName))}}):t._e()])},staticRenderFns:[]}},"Jf/B":function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,".statistics[data-v-b383dd8e]{display:block;font-weight:700;margin-bottom:20px}",""])},"O5Y/":function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,".control[data-v-1fc3bcd6]{padding:10px 15px}.control i[data-v-1fc3bcd6]{vertical-align:baseline}.control[data-v-1fc3bcd6]:hover{cursor:pointer;background-color:#f5f5f5;color:#000}.control.active[data-v-1fc3bcd6]{color:#00d1b2}.control.active[data-v-1fc3bcd6]:hover{color:#00a78e}.control.disabled[data-v-1fc3bcd6]{color:#bbb}.control.disabled[data-v-1fc3bcd6]:hover{color:#888}",""])},OqnS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("gTMq");e.default={props:["album","photos","showSlider"],computed:{slider:function(){return new i.a(5,this.photos.length)}},data:function(){return{sliderPhotos:[],currentPhotoIndex:null}},mounted:function(){this.listenEvents()},methods:{prev:function(){this.slider.hasPrev()&&(this.slider.prev(),this.updateSliderPhotos())},next:function(){this.slider.hasNext()&&(this.slider.next(),this.updateSliderPhotos())},updateSliderPhotos:function(){this.sliderPhotos=this.photos.slice(this.slider.start,this.slider.end()+1)},selectPhoto:function(t){this.currentPhotoIndex=this.getIndexById(t.id),this.$emit("change-photo",this.currentPhotoIndex)},getIndexById:function(t){return this.photos.map(function(t){return t.id}).indexOf(t)},updateSlider:function(){this.slider.setActive(this.currentPhotoIndex).update()},isActive:function(t){return this.currentPhotoIndex===this.getIndexById(t)},listenEvents:function(){var t=this;eventDispatcher.$on("update-slider",function(e,n){e===t.album.id&&(t.currentPhotoIndex=n,t.updateSlider(),t.updateSliderPhotos())})}}}},OrIo:function(t,e,n){var i=n("VU/8")(n("Z+1P"),n("ZXb8"),null,null);t.exports=i.exports},Pqrd:function(t,e,n){n("xbiI");var i=n("VU/8")(n("yScH"),n("GIe0"),"data-v-7d421792",null);t.exports=i.exports},"Q3R+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("DbJJ"),a=n.n(i),r=n("2F0t"),s=n("XQct");e.default={props:["album","count","user"],data:function(){return{showThumbnailMenu:!1}},methods:{activate:function(){this.$emit("activate-thumbnail",this.photo)},pluralize:a.a,capitalize:s.b},mixins:[r.a]}},Qnsf:function(t,e,n){var i=n("O5Y/");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("4e13cd3c",i,!0)},Ri6v:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){i(this,t),this.paginator=e}return a(t,[{key:"getSlider",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return this.lastPage()<2*t+6?this.getSmallSlider():this.getPageSlider(t)}},{key:"getSmallSlider",value:function(){return{first:this.getPageRange(1,this.lastPage()),slider:null,last:null}}},{key:"getPageSlider",value:function(t){var e=2*t;return this.hasPages()?this.currentPage()<=e?this.getSliderTooCloseToBeginning(e):this.currentPage()>this.lastPage()-e?this.getSliderTooCloseToEnding(e):this.getFullSlider(t):{first:null,slider:null,last:null}}},{key:"getSliderTooCloseToBeginning",value:function(t){return{first:this.getPageRange(1,t+2),slider:null,last:this.getFinish()}}},{key:"getSliderTooCloseToEnding",value:function(t){var e=this.getPageRange(this.lastPage()-(t+2),this.lastPage());return{first:this.getStart(),slider:null,last:e}}},{key:"getFullSlider",value:function(t){return{first:this.getStart(),slider:this.getAdjacentPageRange(t),last:this.getFinish()}}},{key:"getAdjacentPageRange",value:function(t){return this.getPageRange(this.currentPage()-t,this.currentPage()+t)}},{key:"getPageRange",value:function(t,e){for(var n=[],i=t;i<=e;i++)n.push(i);return n}},{key:"getStart",value:function(){return this.getPageRange(1,1)}},{key:"getFinish",value:function(){return this.getPageRange(this.lastPage(),this.lastPage())}},{key:"hasPages",value:function(){return this.lastPage()>1}},{key:"currentPage",value:function(){return this.paginator.currentPage}},{key:"lastPage",value:function(){return this.paginator.lastPage}}],[{key:"make",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return new t(e).getSlider(n)}}]),t}();e.a=r},RmrI:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"gallery"},[n("div",{staticClass:"gallery__background"}),t._v(" "),n("div",{staticClass:"gallery__wrapper"},[n("div",{staticClass:"gallery__content"},[n("div",{staticClass:"gallery__arrow--column"},[t.hasPrev()?n("a",{staticClass:"gallery__arrow has-text-centered",on:{click:function(e){e.preventDefault(),t.prev()}}},[n("i",{staticClass:"fa fa-caret-left",attrs:{"aria-hidden":"true"}})]):t._e()]),t._v(" "),t.isActive?n("div",{staticClass:"gallery__viewport"},[n("img",{staticClass:"gallery__image",attrs:{src:t.getCurrentUrl()}})]):t._e(),t._v(" "),n("div",{staticClass:"gallery__arrow--column"},[t.hasNext()?n("a",{staticClass:"gallery__arrow has-text-centered",on:{click:function(e){e.preventDefault(),t.next()}}},[n("i",{staticClass:"fa fa-caret-right",attrs:{"aria-hidden":"true"}})]):t._e()])])]),t._v(" "),n("slider",{attrs:{album:t.album,photos:t.photos,"show-slider":t.showSlider},on:{"change-photo":t.setCurrentIndex}}),t._v(" "),n("button",{staticClass:"modal-close",on:{click:t.close}}),t._v(" "),n("span",{staticClass:"gallery__close-slider",attrs:{title:t.showSlider?"Hide slider":"Show slider"},on:{click:t.toggleSlider}},[n("i",{staticClass:"fa",class:[t.showSlider?"fa-toggle-on":"fa-toggle-off"],attrs:{"aria-hidden":"true"}})])],1)},staticRenderFns:[]}},SHX3:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control",class:t.classStyle,attrs:{title:t.title},on:{click:t.activate}},[n("span",[t._t("icon")],2)])},staticRenderFns:[]}},SowY:function(t,e,n){n("5hos");var i=n("VU/8")(n("3hpo"),n("0qGq"),"data-v-b383dd8e",null);t.exports=i.exports},UrtT:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("draggable",{staticClass:"columns is-multiline",attrs:{options:{}},on:{change:t.sort,start:function(e){t.drag=!0},end:function(e){t.drag=!1}},model:{value:t.photos,callback:function(e){t.photos=e},expression:"photos"}},t._l(t.photos,function(e){return n("div",{staticClass:"column is-4 has-text-centered"},[n("thumbnail",{attrs:{photo:e,size:"small"},on:{"activate-thumbnail":t.showModal,"delete-photo":t.deletePhoto,"reset-avatars":t.resetAvatars}})],1)})),t._v(" "),n("modal",{attrs:{album:t.album,photos:t.photos,"current-photo":t.currentPhoto}})],1)},staticRenderFns:[]}},"VU/8":function(t,e){t.exports=function(t,e,n,i){var a,r=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(a=t,r=t.default);var o="function"==typeof r?r.options:r;if(e&&(o.render=e.render,o.staticRenderFns=e.staticRenderFns),n&&(o._scopeId=n),i){var l=Object.create(o.computed||null);Object.keys(i).forEach(function(t){var e=i[t];l[t]=function(){return e}}),o.computed=l}return{esModule:a,exports:r,options:o}}},WQgE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("DAYN"),a=n.n(i);e.default={props:["album"],data:function(){return{photos:[],currentPhoto:null}},mounted:function(){this.fetchPhotos(),this.listenEvents()},methods:{sort:function(){this.photos.map(function(t,e){t.sort_order=e+1}),this.updateServerOrder()},updateServerOrder:function(){axios.patch("/webapi/albums/"+this.album.slug+"/photos/sorting",{photos:this.photos})},showModal:function(t){this.currentPhoto=t,eventDispatcher.$emit("show-modal",t,this.album.id)},fetchPhotos:function(){var t=this;axios.get("/webapi/albums/"+this.album.slug+"/photos").then(function(e){t.photos=e.data.data})},addPhoto:function(t){this.photos.push(t)},deletePhoto:function(t){this.photos=this.photos.filter(function(e){return e.id!=t})},resetAvatars:function(t){this.photos.forEach(function(e){e.id!=t&&(e.is_avatar=!1)})},listenEvents:function(){var t=this;eventDispatcher.$on("file-was-uploaded",function(e){e.album.data.id===t.album.id&&t.addPhoto(e)})}},components:{Draggable:a.a}}},WRGp:function(t,e,n){window.Vue=n("I3G/"),window.axios=n("mtWM"),window.axios.defaults.headers.common={"X-CSRF-TOKEN":window.Laravel.csrfToken,"X-Requested-With":"XMLHttpRequest"},window.eventDispatcher=new Vue},X2IX:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){i(this,t),this.errors={}}return a(t,[{key:"has",value:function(t){return this.errors.hasOwnProperty(t)}},{key:"any",value:function(){return Object.keys(this.errors).length>0}},{key:"get",value:function(t){if(this.errors[t])return this.errors[t][0]}},{key:"record",value:function(t){this.errors=t}},{key:"clear",value:function(t){if(t)return void delete this.errors[t];this.errors={}}}]),t}();e.a=r},XQct:function(t,e,n){"use strict";function i(t){return Laravel.storage+t}function a(t){return t[0].toUpperCase()+t.slice(1)}n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},"Z+1P":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("pYZN");e.default={props:["album"],data:function(){return{files:[],isDraggedOver:!1,fileInputName:"photo",state:new i.a(["initial","uploading","done"]),endpoint:"/webapi/albums/"+this.album.slug+"/photos"}},mounted:function(){this.state.set("initial"),this.listenEvents()},methods:{cancel:function(){eventDispatcher.$emit("cancel-uploading")},reset:function(){this.state.set("initial"),this.files=[],this.$refs.form.reset(),eventDispatcher.$emit("reset")},enter:function(){this.state.isInitial()&&(this.isDraggedOver=!0)},leave:function(){this.state.isInitial()&&(this.isDraggedOver=!1)},drop:function(t){var e=t.dataTransfer.files;this.state.isInitial()&&e.length&&this.addFiles(e),this.leave()},select:function(t){this.addFiles(this.$refs.input.files)},addFiles:function(t){this.state.set("uploading");for(var e=0;e<t.length;e++)this.files.push(t[e])},listenEvents:function(){var t=this;eventDispatcher.$on("all-files-were-uploaded",function(){t.state.set("done")})}}}},ZXb8:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"upload",class:{"upload--dragged":t.isDraggedOver},on:{dragover:function(e){e.preventDefault(),t.enter(e)},dragenter:function(e){e.preventDefault(),t.enter(e)},dragleave:function(e){e.preventDefault(),t.leave(e)},dragend:function(e){e.preventDefault(),t.leave(e)},drop:function(e){e.preventDefault(),t.drop(e)}}},[t.state.isInitial()?n("label",{staticClass:"upload__area",attrs:{for:"file"}}):t._e(),t._v(" "),t.state.isInitial()?n("span",{staticClass:"upload__header"},[n("b",[t._v("Drag files here or click to select files")])]):t._e(),t._v(" "),n("form",{ref:"form"},[n("input",{ref:"input",staticClass:"upload__input",attrs:{type:"file",multiple:"",id:"file"},on:{change:t.select}})]),t._v(" "),t.state.isInitial()?t._e():n("statistics",{attrs:{total:t.files.length}}),t._v(" "),t._l(t.files,function(e){return n("file",{key:e.name,attrs:{file:e,"input-name":t.fileInputName,endpoint:t.endpoint}})}),t._v(" "),t.state.isDone()?n("div",[n("button",{staticClass:"button",on:{click:t.reset}},[t._v("Reset")])]):t._e(),t._v(" "),t.state.isUploading()?n("div",[n("button",{staticClass:"button",on:{click:t.cancel}},[t._v("Cancel")])]):t._e()],2)])},staticRenderFns:[]}},Zh1K:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){i(this,t),this.parser=e}return a(t,[{key:"parse",value:function(t){return{dirname:this.parser.dirname(t),basename:this.parser.basename(t),filename:this.parser.filename(t),extname:this.parser.extname(t)}}}]),t}();e.a=r},axqn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Ri6v");e.default={props:["paginator"],computed:{pages:function(){return i.a.make(this.paginator)}},methods:{navigate:function(t){this.$emit("page-was-changed",t)},prev:function(){this.hasPrev()&&this.navigate(this.paginator.currentPage-1)},next:function(){this.hasNext()&&this.navigate(this.paginator.currentPage+1)},hasPrev:function(){return this.paginator.currentPage>1},hasNext:function(){return this.paginator.currentPage<this.paginator.lastPage},isCurrent:function(t){return this.paginator.currentPage==t},isArray:function(t){return t instanceof Array}}}},bEiy:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];i(this,t),this.items=e,this.current=e.length?0:null}return a(t,[{key:"setCursor",value:function(t){return this.current=t,this}},{key:"setItems",value:function(t){return this.items=t,this}},{key:"prev",value:function(){this.has(this.current-1)&&this.current--}},{key:"next",value:function(){this.has(this.current+1)&&this.current++}},{key:"has",value:function(t){return this.items.hasOwnProperty(t)}},{key:"get",value:function(t){return this.has(t)?this.items[t]:void 0}}]),t}();e.a=r},dSkP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{title:{default:""},classStyle:{default:""}},methods:{activate:function(){this.$emit("activate")}}}},dihT:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"thumbnail"},[n("div",{staticClass:"thumbnail__mask",on:{click:function(e){e.preventDefault(),t.activate(e)}}}),t._v(" "),n("div",[n("img",{staticClass:"thumbnail__image",attrs:{src:t.url,alt:"thumbnail"}})]),t._v(" "),n("thumbnail-menu",{attrs:{photo:t.photo,"is-active":t.showThumbnailMenu},on:{"photo-was-deleted":t.deletePhoto,"reset-avatars":t.resetAvatars}})],1)},staticRenderFns:[]}},egzm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("u1Sb"),a=n.n(i);e.default={props:["isActive","photo"],computed:{isPublic:function(){return this.photo.is_public},isAvatar:function(){return this.photo.is_avatar}},methods:{execute:function(t){"function"==typeof this[t]&&this[t]()},delete:function(){var t=this;axios.delete("/webapi/photos/"+this.photo.slug).then(function(e){t.$emit("photo-was-deleted",t.photo.id)})},visibility:function(){var t={};this.isPublic?t.is_public=!1:t.is_public=!0,this.updatePhoto(t)},updatePhoto:function(t){var e=this;axios.patch("/webapi/photos/"+this.photo.slug,t).then(function(t){e.updateClientPhoto(t.data.data)})},avatar:function(){var t=this;axios.patch("/webapi/photos/"+this.photo.slug+"/avatars").then(function(e){t.$emit("reset-avatars",t.photo.id),t.updateClientPhoto(e.data.data)})},updateClientPhoto:function(t){for(var e in t)this.photo[e]=t[e]}},components:{Control:a.a}}},gTMq:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;i(this,t),this.start=a,this.viewport=e,this.length=n,this.active=r}return a(t,[{key:"onEachSide",value:function(){return Math.floor((this.viewport-1)/2)}},{key:"setStart",value:function(t){this.start=t}},{key:"end",value:function(){return this.start+this.step()}},{key:"step",value:function(){return this.viewport-1}},{key:"lastElement",value:function(){return this.length?this.length-1:0}},{key:"prev",value:function(){this.willBeOutOfLeftBorder()?this.start=0:this.start-=this.step()}},{key:"willBeOutOfLeftBorder",value:function(){return this.start-this.step()<0}},{key:"next",value:function(){this.willBeOutOfRightBorder()?this.start+=this.lastElement()-this.end():this.start+=this.step()}},{key:"willBeOutOfRightBorder",value:function(){return this.end()+this.step()>this.lastElement()}},{key:"hasPrev",value:function(){return this.start>0}},{key:"hasNext",value:function(){return this.end()<this.lastElement()}},{key:"setActive",value:function(t){return this.active=t,this}},{key:"update",value:function(){this.getSlider()}},{key:"getSlider",value:function(){return this.lastElement()<this.viewport?this.getSliderTooCloseToBeginning():this.getFullSlider()}},{key:"getFullSlider",value:function(){return this.active<this.onEachSide()?this.getSliderTooCloseToBeginning():this.active>this.lastElement()-this.onEachSide()?this.getSliderTooCloseToEnding():this.getAdjacentSlider()}},{key:"getSliderTooCloseToBeginning",value:function(){return this.start=0,this.getRange()}},{key:"getSliderTooCloseToEnding",value:function(){return this.start=this.lastElement()-this.step(),this.getRange()}},{key:"getAdjacentSlider",value:function(){return this.start=this.active-this.onEachSide(),this.getRange()}},{key:"getRange",value:function(){return[this.start,this.end()]}}]),t}();e.a=r},ge5J:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,".upload-file[data-v-7d421792]{margin:0 20px 20px}.upload-file__cancel[data-v-7d421792]{margin-left:20px}.upload-file__error[data-v-7d421792]{font-size:.9em}.upload-progress[data-v-7d421792]{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;position:relative}.progress__bar[data-v-7d421792]{background-color:#f5f5f5;border-radius:3px;box-shadow:inset 0 1px 2px rgba(0,0,0,.1);height:35px;margin:0;position:relative;width:100%}.progress__label[data-v-7d421792],.progress__percentage[data-v-7d421792]{color:#333;margin-left:10px;position:absolute;top:50%;-webkit-transform:translate(0,-50%);transform:translate(0,-50%)}.progress__percentage[data-v-7d421792]{margin-right:10px;right:0}.progress__fill[data-v-7d421792]{background-color:#42b983;border-radius:3px;box-shadow:inset 0 -1px rgba(0,0,0,.15);box-sizing:border-box;height:100%;opacity:.6;padding:10px;transition:width .5s ease}.progress__fill--failed[data-v-7d421792]{background-color:#f66;transition:none;width:100%!important}.progress__fill--success[data-v-7d421792]{opacity:1}",""])},hKql:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showSlider?n("div",{staticClass:"slider"},[n("div",{staticClass:"slider__viewport"},[t.slider.hasPrev()?n("div",{staticClass:"slider__arrow slider__arrow--left",on:{click:function(e){t.prev()}}},[n("i",{staticClass:"fa fa-caret-left",attrs:{"aria-hidden":"true"}})]):t._e(),t._v(" "),t._l(t.sliderPhotos,function(e){return n("div",[n("div",{class:["slider__item",{"slider__item--active":t.isActive(e.id)}]},[n("slider-thumbnail",{attrs:{photo:e,size:"small"},on:{"activate-thumbnail":t.selectPhoto}})],1)])}),t._v(" "),t.slider.hasNext()?n("div",{staticClass:"slider__arrow slider__arrow--right",on:{click:function(e){t.next()}}},[n("i",{staticClass:"fa fa-caret-right",attrs:{"aria-hidden":"true"}})]):t._e()],2)]):t._e()},staticRenderFns:[]}},hnUV:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("2F0t");e.default={mixins:[i.a]}},idMM:function(t,e,n){var i=n("VU/8")(n("WQgE"),n("UrtT"),null,null);t.exports=i.exports},j25v:function(t,e,n){var i=n("VU/8")(n("xOdp"),n("wf/b"),null,null);t.exports=i.exports},k4Td:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=n("o/zv"),r=n.n(a),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){i(this,t),this.parser=r.a}return s(t,[{key:"basename",value:function(t){return this.parser.basename(t)}},{key:"dirname",value:function(t){return this.parser.dirname(t)}},{key:"filename",value:function(t){return this.basename(t).substring(0,this.basename(t).lastIndexOf("."))}},{key:"extname",value:function(t){return this.parser.extname(t)}}]),t}();e.a=o},llTJ:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){i(this,t),this.paginator=e}return a(t,[{key:"adapt",value:function(){return{items:[],currentPage:this.paginator.current_page,lastPage:this.paginator.total_pages,perPage:this.paginator.per_page,total:this.paginator.total}}}],[{key:"make",value:function(e){return new t(e).adapt()}}]),t}();e.a=r},mvfD:function(t,e,n){var i=n("VU/8")(n("egzm"),n("5A6U"),null,null);t.exports=i.exports},"o/zv":function(t,e,n){(function(t){function n(t,e){for(var n=0,i=t.length-1;i>=0;i--){var a=t[i];"."===a?t.splice(i,1):".."===a?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function i(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,r=function(t){return a.exec(t).slice(1)};e.resolve=function(){for(var e="",a=!1,r=arguments.length-1;r>=-1&&!a;r--){var s=r>=0?arguments[r]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,a="/"===s.charAt(0))}return e=n(i(e.split("/"),function(t){return!!t}),!a).join("/"),(a?"/":"")+e||"."},e.normalize=function(t){var a=e.isAbsolute(t),r="/"===s(t,-1);return t=n(i(t.split("/"),function(t){return!!t}),!a).join("/"),t||a||(t="."),t&&r&&(t+="/"),(a?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var a=i(t.split("/")),r=i(n.split("/")),s=Math.min(a.length,r.length),o=s,l=0;l<s;l++)if(a[l]!==r[l]){o=l;break}for(var u=[],l=o;l<a.length;l++)u.push("..");return u=u.concat(r.slice(o)),u.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=r(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},e.basename=function(t,e){var n=r(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return r(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(e,n("W2nU"))},"oM2/":function(t,e,n){var i=n("VU/8")(n("OqnS"),n("hKql"),null,null);t.exports=i.exports},onG5:function(t,e,n){var i=n("VU/8")(n("axqn"),n("9nhH"),null,null);t.exports=i.exports},pWPz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("v1BB"),a=n.n(i);e.default={props:["album"],computed:{avatar:function(){return this.album.avatar?this.album.avatar.data:null},username:function(){return this.album.user?this.album.user.data.name:null},count:function(){return this.album.publicPhotos?this.album.publicPhotos.data.length:null}},methods:{showModal:function(t){eventDispatcher.$emit("show-modal",t,this.album.id)}},components:{AlbumThumbnail:a.a}}},pYZN:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1];i(this,t),this.states=this.normalize(e),this.current=this.get(n),this.make()}return a(t,[{key:"normalize",value:function(t){var e={};return t.forEach(function(t,n){e[t.toLowerCase()]=n}),e}},{key:"make",value:function(){var t=this;for(var e in this.states)!function(e){t["is"+t.capitalize(e)]=function(){return this.current===this.states[e]}}(e);return this}},{key:"set",value:function(t){this.current=this.get(t.toLowerCase())}},{key:"has",value:function(t){return this.states.hasOwnProperty(t)}},{key:"get",value:function(t){return this.has(t)?this.states[t]:null}},{key:"reset",value:function(){this.current=null}},{key:"capitalize",value:function(t){return t[0].toUpperCase()+t.slice(1)}}]),t}();e.a=r},qIfr:function(t,e,n){var i=n("VU/8")(n("C5ET"),n("dihT"),null,null);t.exports=i.exports},rCD0:function(t,e,n){var i=n("VU/8")(n("hnUV"),n("xeUg"),null,null);t.exports=i.exports},rjj0:function(t,e,n){function i(t){for(var e=0;e<t.length;e++){var n=t[e],i=c[n.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](n.parts[a]);for(;a<n.parts.length;a++)i.parts.push(r(n.parts[a]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{for(var s=[],a=0;a<n.parts.length;a++)s.push(r(n.parts[a]));c[n.id]={id:n.id,refs:1,parts:s}}}}function a(){var t=document.createElement("style");return t.type="text/css",h.appendChild(t),t}function r(t){var e,n,i=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(i){if(p)return v;i.parentNode.removeChild(i)}if(g){var r=d++;i=f||(f=a()),e=s.bind(null,i,r,!1),n=s.bind(null,i,r,!0)}else i=a(),e=o.bind(null,i),n=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else n()}}function s(t,e,n,i){var a=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=m(e,a);else{var r=document.createTextNode(a),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function o(t,e){var n=e.css,i=e.media,a=e.sourceMap;if(i&&t.setAttribute("media",i),a&&(n+="\n/*# sourceURL="+a.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var u=n("tTVk"),c={},h=l&&(document.head||document.getElementsByTagName("head")[0]),f=null,d=0,p=!1,v=function(){},g="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,n){p=n;var a=u(t,e);return i(a),function(e){for(var n=[],r=0;r<a.length;r++){var s=a[r],o=c[s.id];o.refs--,n.push(o)}e?(a=u(t,e),i(a)):a=[];for(var r=0;r<n.length;r++){var o=n[r];if(0===o.refs){for(var l=0;l<o.parts.length;l++)o.parts[l]();delete c[o.id]}}}};var m=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},ruOm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("oM2/"),a=n.n(i),r=n("bEiy"),s=n("XQct");e.default={props:["album","photos"],data:function(){return{isActive:!1,showSlider:!0,gallery:new r.a(this.photos)}},mounted:function(){this.listenEvents()},methods:{listenEvents:function(){var t=this;eventDispatcher.$on("show-modal",function(e,n){n===t.album.id?(t.setCurrentPhoto(e),t.updateGallery(),t.updateSlider(),t.open()):t.close()})},setCurrentPhoto:function(t){t&&t.hasOwnProperty("id")&&this.setCurrentIndex(this.getIndexById(t.id))},setCurrentIndex:function(t){this.gallery.setCursor(t)},getIndexById:function(t){return this.photos.map(function(t){return t.id}).indexOf(t)},updateSlider:function(){eventDispatcher.$emit("update-slider",this.album.id,this.gallery.current)},updateGallery:function(){this.gallery.setItems(this.photos)},open:function(){this.isActive=!0},close:function(){this.isActive=!1},prev:function(){this.gallery.prev(),this.updateSlider()},next:function(){this.gallery.next(),this.updateSlider()},hasPrev:function(){return this.gallery.has(this.gallery.current-1)},hasNext:function(){return this.gallery.has(this.gallery.current+1)},getCurrentUrl:function(){var t=this.gallery.get(this.gallery.current);return t?n.i(s.a)(t.path):""},toggleSlider:function(){this.showSlider?this.showSlider=!1:this.showSlider=!0},url:s.a},"сomponents":{Slider:a.a}}},"sV/x":function(t,e,n){n("WRGp"),Vue.component("albums",n("j25v")),Vue.component("modal",n("2WXv")),Vue.component("thumbnail",n("qIfr")),Vue.component("slider-thumbnail",n("rCD0")),Vue.component("photos",n("idMM")),Vue.component("slider",n("oM2/")),Vue.component("upload-form",n("OrIo")),Vue.component("file",n("Pqrd")),Vue.component("statistics",n("SowY")),Vue.component("pagination",n("onG5"));new Vue({el:"#app"})},tTVk:function(t,e){t.exports=function(t,e){for(var n=[],i={},a=0;a<e.length;a++){var r=e[a],s=r[0],o=r[1],l=r[2],u=r[3],c={id:t+":"+a,css:o,media:l,sourceMap:u};i[s]?i[s].parts.push(c):n.push(i[s]={id:s,parts:[c]})}return n}},"tb+K":function(t,e,n){var i=n("VU/8")(n("pWPz"),n("FNsA"),null,null);t.exports=i.exports},u1Sb:function(t,e,n){n("Qnsf");var i=n("VU/8")(n("dSkP"),n("SHX3"),"data-v-1fc3bcd6",null);t.exports=i.exports},v1BB:function(t,e,n){n("4XMA");var i=n("VU/8")(n("Q3R+"),n("0UYq"),"data-v-505efc05",null);t.exports=i.exports},vpkq:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,".album__menu[data-v-505efc05]{background-color:transparent}.album__count[data-v-505efc05]{color:#fff;font-size:20px;font-weight:700}.album__name[data-v-505efc05]{font-weight:700;margin-top:16px}.album__user[data-v-505efc05]{font-size:14px}",""])},"wf/b":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"columns is-multiline"},t._l(t.albums,function(e){return n("div",{staticClass:"column is-4 has-text-centered"},[n("album",{attrs:{album:e}}),t._v(" "),n("modal",{attrs:{album:e,photos:e.publicPhotos.data,"current-photo":e.avatar?e.avatar.data:null}})],1)})),t._v(" "),t.hasPaginator?n("hr"):t._e(),t._v(" "),t.hasPaginator?n("pagination",{attrs:{paginator:t.paginator},on:{"page-was-changed":t.navigate}}):t._e()],1)},staticRenderFns:[]}},xOdp:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("tb+K"),a=n.n(i),r=n("llTJ");e.default={mounted:function(){this.fetchAlbums()},computed:{hasPaginator:function(){return this.paginator&&this.paginator.lastPage>1}},data:function(){return{albums:null,paginator:null,filters:{}}},methods:{fetchAlbums:function(){var t=this;axios.get("/webapi/albums",{params:this.filters}).then(function(e){t.parseData(e.data)})},parseData:function(t){this.paginator=r.a.make(t.meta.pagination),this.albums=t.data},navigate:function(t){this.filters.page=t,this.fetchAlbums()}},components:{Album:a.a}}},xZZD:function(t,e){},xbiI:function(t,e,n){var i=n("ge5J");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("ef35bf66",i,!0)},xeUg:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"slider_thumbnail",style:{"background-image":"url("+t.url+")"},on:{click:t.activate}})},staticRenderFns:[]}},yScH:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("pYZN"),a=n("X2IX"),r=axios.CancelToken;e.default={props:["file","endpoint","inputName"],mounted:function(){this.upload(),this.listenEvents()},data:function(){return{progress:0,cancel:null,errors:new a.a,state:new i.a(["initial","uploading","success","failed","cancelled"])}},methods:{upload:function(){this.state.set("uploading"),axios.post(this.endpoint,this.form(),this.config()).then(this.onSuccess).catch(this.onFail)},form:function(){var t=new FormData;return t.append(this.inputName,this.file),t},config:function(){var t=this;return{onUploadProgress:function(e){t.progress=Math.round(100*e.loaded/e.total)},cancelToken:new r(function(t){this.cancel=t}.bind(this))}},onSuccess:function(t){eventDispatcher.$emit("file-was-uploaded",t.data.data),this.done("success")},onFail:function(t){axios.isCancel(t)?this.done("cancelled"):(this.errors.record(t.response.data),this.done("failed"))},done:function(t){this.state.set(t),eventDispatcher.$emit("file-was-processed")},cancelUpload:function(){this.cancel("Operation canceled by the user.")},listenEvents:function(){var t=this;eventDispatcher.$on("cancel-uploading",function(){t.cancelUpload()})}}}}},[0]);